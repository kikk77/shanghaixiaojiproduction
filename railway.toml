# Railwayéƒ¨ç½²é…ç½®
# 
# ğŸš€ å¹¿å·ä»“åº“éƒ¨ç½²è¯´æ˜ï¼š
# åœ¨Railway Variablesä¸­è®¾ç½®ä»¥ä¸‹å˜é‡ï¼š
# BOT_TOKEN=8154709069:AAHg_y0w9C9s8f3kMIZPoebYFkSDRcpOYbA (å¹¿å·Bot Token)
# BOT_USERNAME=xiaojisystem_bot (å¹¿å·Botç”¨æˆ·å)
# GROUP_CHAT_ID=-1002556407210 (å¹¿å·ç¾¤ç»„ID)
#
# âš ï¸ é‡è¦ï¼šåˆ‡æ¢Botå‰ç¡®ä¿ï¼š
# 1. æ–°Botå·²æ·»åŠ åˆ°ç›®æ ‡ç¾¤ç»„
# 2. æ–°Botå·²è·å¾—ç¾¤ç»„ç®¡ç†å‘˜æƒé™
# 3. æ—§Botå®ä¾‹å·²åœæ­¢ï¼ˆé¿å…å†²çªï¼‰
# 4. ä½¿ç”¨pollingæ¨¡å¼ï¼Œé¿å…webhookå†²çª

[build]
builder = "nixpacks"
watchPatterns = ["app.js", "services/**", "models/**"]
buildCommand = "npm install"

[deploy]
startCommand = "npm run railway"
healthcheckPath = "/health"
healthcheckTimeout = 60
restartPolicyType = "never"
restartPolicyMaxRetries = 1

# Volumeé…ç½® - æ•°æ®æŒä¹…åŒ–
[[deploy.volumes]]
mountPath = "/app/data"
name = "telegram-bot-data"

[env]
NODE_ENV = "production" 
PORT = "3000"
LEVEL_SYSTEM_ENABLED = "true"  # å¯ç”¨ç­‰çº§ç³»ç»Ÿ

# åªä½¿ç”¨ä¸€ä¸ªç«¯å£ï¼Œé¿å…å¤šå®ä¾‹é—®é¢˜
[[ports]]
port = 3000
internal = false 