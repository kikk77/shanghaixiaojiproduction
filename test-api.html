<!DOCTYPE html>
<html>
<head>
    <title>API测试</title>
</head>
<body>
    <h1>API测试页面</h1>
    <div id="results"></div>
    
    <script>
        async function testAPI() {
            const results = document.getElementById('results');
            
            try {
                console.log('开始测试API...');
                
                // 测试排行榜API
                const rankingResponse = await fetch('/api/level/rankings');
                const rankingData = await rankingResponse.json();
                console.log('排行榜API响应:', rankingData);
                
                // 测试统计API
                const statsResponse = await fetch('/api/level/stats');
                const statsData = await statsResponse.json();
                console.log('统计API响应:', statsData);
                
                // 测试配置API
                const configResponse = await fetch('/api/level/config');
                const configData = await configResponse.json();
                console.log('配置API响应:', configData);
                
                results.innerHTML = `
                    <h2>API测试结果</h2>
                    <h3>排行榜API:</h3>
                    <pre>${JSON.stringify(rankingData, null, 2)}</pre>
                    <h3>统计API:</h3>
                    <pre>${JSON.stringify(statsData, null, 2)}</pre>
                    <h3>配置API:</h3>
                    <pre>${JSON.stringify(configData, null, 2)}</pre>
                `;
                
            } catch (error) {
                console.error('API测试失败:', error);
                results.innerHTML = `<p style="color: red;">API测试失败: ${error.message}</p>`;
            }
        }
        
        // 页面加载后自动测试
        window.onload = testAPI;
    </script>
</body>
</html> 